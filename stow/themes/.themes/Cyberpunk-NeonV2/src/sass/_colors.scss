@function gtkalpha($c, $a) {
  @return unquote("alpha(#{$c},#{$a})");
}

@function gtkmix($c1,$c2,$r) {
  $ratio: 1 -  $r / 100%; // match SCSS gtkmix()
  @return unquote("mix(#{$c1},#{$c2},#{$ratio})");
}

@function gtkshade($c,$s) {
  @return unquote("shade(#{$c},#{$s})");
}

@function gtkcolor($c) {
  @return unquote("@#{$c}");
}

// base options
@import 'theme-options-temp';
@import 'gtk-base-temp';

// colors palette
@import 'colors-palette';

// Base colors
$base_color:                        #1a1a1a; // A dark background base
$text_color:                        #ffffff;
$bg_color:                          #0a0a0a; // Even darker background
$fg_color:                          #e0e0e0;
$alt_fg_color:                      rgba(255,255,255,0.7); // Inactive tab text
$hint_fg_color:                     rgba(255,255,255,0.4); // Placeholder text

@if $scheme == 'nord' {
  $base_color:                      if($variant == 'light', #fbfcfd, if($darker == 'true', #1d2025, #252932));
  $text_color:                      if($variant == 'light', #2b303b, #d3d7df);
  $bg_color:                        if($variant == 'light', #f3f4f6, if($darker == 'true', #23272f, #2b303b));
  $fg_color:                        if($variant == 'light', #1e222a, #d9dce3);
  $alt_fg_color:                    if($variant == 'light', #383f4d, #a2abbc);
  $hint_fg_color:                   if($variant == 'light', #495265, #8994a9);
}

//insensitive state derived colors
$disabled_fg_color:                 rgba($fg_color, 0.35);
$alt_disabled_fg_color:             rgba($alt_fg_color, 0.35);
$disabled_bg_color:                 lighten($bg_color, 2%);

$active_color:                      rgba(#0078D7, 0.3); // Blue accent background for active
$track_color:                       rgba(#0078D7, 0.2);
$visit_color:                       rgba(#0078D7, 0.16);
$divider_color:                     rgba(#0078D7, 0.12);
$fill_color:                        rgba(#0078D7, 0.08);

$light_fg_color:                    #ffffff;
$light_alt_fg_color:                rgba($light_fg_color, 0.85);
$light_hint_fg_color:               rgba($light_fg_color, 0.50);
$light_disabled_fg_color:           rgba($light_fg_color, 0.45);
$light_alt_disabled_fg_color:       rgba($light_fg_color, 0.35);
$light_active_color:                rgba($light_fg_color, 0.2);
$light_track_color:                 rgba($light_fg_color, 0.16);
$light_visit_color:                 rgba($light_fg_color, 0.12);
$light_divider_color:               rgba($light_fg_color, 0.1);
$light_fill_color:                  rgba($light_fg_color, 0.05);

$selected_fg_color:                 $light_fg_color;
$selected_bg_color:                 $theme_color_blue;

$primary_color:                     $selected_bg_color;

$selected_borders_color:            darken($selected_bg_color, 10%);
$borders_color:                     rgba(255,255,255,0.15); // Consistent border color
$light_borders_color:               rgba(255,255,255,0.12);
$dark_borders_color:                rgba(255,255,255,0.1);
$solid_borders_color:               rgba(255,255,255,0.15);
$dark_solid_borders_color:          rgba(255,255,255,0.15);
$highlight_color:                   rgba(255,255,255,0.1);

// Gnome-shell background colors
$dark_bg_color:                     rgba(black, 0.6);
$alt_dark_bg_color:                 rgba(black, 0.3);

// for gnome-shell keyboard
$solid_bg_color:                    #242424;
$alt_solid_bg_color:                #1a1a1a;

// Link colors
$link_color:                        #00BFFF; // Vibrant blue for links
$link_visited_color:                darken($link_color, 15%);

// Theme colors
$selection_mode_bg:                 gtkmix(white, $selected_bg_color, 25%);
$warning_color:                     #FFD700; // Gold/Yellow for warning
$error_color:                       #FF4500; // Orange-Red for error
$success_color:                     #00FF7F; // Spring Green for success
$destructive_color:                 #FF4500; // Orange-Red for destructive actions
$suggested_color:                   $theme_color_blue; // Use the accent blue

$progress_color:                    $selected_bg_color;
$drop_target_color:                 $theme_color_blue;

// Headerbar colors
$header_bg:                         #1c1c1c; // Dark header background
$header_highlight:                  #282828; // Slightly lighter for highlights
$header_fg:                         #FDFDFD; // White foreground for header text

$dark_header_bg:                    rgba($base_color, 0.96);
$header_bg_backdrop:                gtkmix(black, $header_bg, 1%);
$header_border:                     gtkmix(black, $header_bg, 75%);
$header_border_backdrop:            gtkmix(black, $header_bg, 45%);

// Sidebar colors
$dark_sidebar_bg:                   rgba(#282828, 0.96); // Dark semi-transparent sidebar
$opacity: 0.96; // This variable was used before, keeping it for now if needed elsewhere.

$dark_sidebar_fg:                   $text_color;
$dark_sidebar_border:               gtkmix(black, $dark_sidebar_bg, 75%);
$sidebar_theme_color:               rgba($theme_color_blue, 0.15);

//dialog
$dialog_bg_color:                   rgba($base_color, $opacity);

//OSD colors
$osd_fg_color:                      #d3d7df; // Light gray for OSD foreground
$solid_osd_bg_color:                #1a1a1a; // Dark background for OSD

$osd_bg_color:                      rgba($solid_osd_bg_color, $opacity);

$osd_button_bg:                     rgba($osd_fg_color, 0.1);
$osd_button_border:                 $dark_borders_color;
$osd_entry_bg:                      rgba($osd_fg_color, 0.1);
$osd_entry_border:                  $dark_borders_color;
$osd_disabled_bg_color:             $osd_bg_color;
$osd_disabled_fg_color:             rgba($osd_fg_color, 0.35);
$osd_borders_color:                 $dark_borders_color;

// Menu colors
$menu_bg:                           rgba($bg_color, $opacity); // Semi-transparent dark menu background
$menu_bd:                           rgba(white, 0.07);

$popover_opacity:                   if($shell_version == 'new', 0.92, 0.96);
$popover_bg_color:                  rgba($base_color, $popover_opacity);

$submenu_bg_color:                  rgba(white, 0.15);

// Panel colors
$panel_bg:                          rgba(black, $panel_opacity); // Semi-transparent black panel
$panel_text:                        white;
$panel_fg:                          white;
$panel_track:                       rgba(white, 0.28);
$panel_divider:                     rgba(white, 0.15);

$dash_fg:                           white;
$dash_bg:                           rgba(#1f1f1f, $panel_opacity/2 + 0.6);

// Entry colors
$entry_bg:                          rgba(0,0,0,0.2); // Background for entry fields
$entry_border:                      $borders_color;
$entry_highlight:                   rgba($selected_bg_color, 0.75);

// Button colors
$button_bg:                         #333333; // Dark gray for general buttons
$button_border:                     $borders_color;

// Button borders and highlights colors
$button_highlight:                  rgba(white, 0.1);
$button_borders:                    $dark_borders_color;

// WM colors
$wm_outline_light:                  0 0 0 2px rgba(black, 0.03), 0 0 0 1px rgba(black, 0.12);
$wm_outline_dark:                   0 0 0 2px rgba(black, 0.1), 0 0 0 1px rgba(black, 0.75);
$wm_border:                         rgba(black, 0.75);
$wm_shadow:                         rgba(black, 0.2);
$wm_shadow_backdrop:                rgba(black, 0.15);
$wm_outline:                        $wm_outline_dark;


