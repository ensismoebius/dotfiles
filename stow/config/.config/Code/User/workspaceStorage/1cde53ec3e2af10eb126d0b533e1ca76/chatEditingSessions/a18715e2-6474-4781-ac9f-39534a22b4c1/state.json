{"version":2,"initialFileContents":[["file:///home/ensismoebius/dotfiles/install.sh","c6cd09a"]],"timeline":{"checkpoints":[{"checkpointId":"aa2bb6fa-308e-4ba1-b764-0011659edefb","epoch":0,"label":"Initial State","description":"Starting point before any edits"},{"checkpointId":"438eedfd-c4a8-4340-963f-086e3f1ac30a","requestId":"request_34273d69-7df7-4f03-b66a-52335234daf1","epoch":1,"label":"Request request_34273d69-7df7-4f03-b66a-52335234daf1"},{"checkpointId":"f5e0327f-9d2d-4d71-9ae3-67b630fd642d","requestId":"request_fc2df01f-6007-4e7b-8920-1f29984ba1fd","epoch":2,"label":"Request request_fc2df01f-6007-4e7b-8920-1f29984ba1fd"},{"checkpointId":"046e00e9-a1cb-438b-9ef8-e3d6c3281f38","requestId":"request_fc2df01f-6007-4e7b-8920-1f29984ba1fd","undoStopId":"31d47454-b8da-4b8e-a8be-d80ca9637f12","epoch":3,"label":"Request request_fc2df01f-6007-4e7b-8920-1f29984ba1fd - Stop 31d47454-b8da-4b8e-a8be-d80ca9637f12"},{"checkpointId":"4571654c-1ea8-4a98-a159-cd1cd8a950f0","requestId":"request_6c4bd094-4655-4d8c-af88-46b2a631e846","epoch":6,"label":"Request request_6c4bd094-4655-4d8c-af88-46b2a631e846"},{"checkpointId":"400d40b9-e058-494a-8351-3c75df19d8f9","requestId":"request_6c4bd094-4655-4d8c-af88-46b2a631e846","undoStopId":"07b0eb86-5c30-40c4-85fa-ea7a8bdb7c6f","epoch":7,"label":"Request request_6c4bd094-4655-4d8c-af88-46b2a631e846 - Stop 07b0eb86-5c30-40c4-85fa-ea7a8bdb7c6f"},{"checkpointId":"b9af82c0-5426-4e0d-a3bf-b0138c7f0dca","requestId":"request_8c48c292-512b-4572-a77e-be05fbaeeda3","epoch":10,"label":"Request request_8c48c292-512b-4572-a77e-be05fbaeeda3"},{"checkpointId":"d5857ac3-5b98-4447-815e-ed97541baa32","requestId":"request_8c48c292-512b-4572-a77e-be05fbaeeda3","undoStopId":"335e3a01-5006-40d0-8a65-5f84e642bf98","epoch":11,"label":"Request request_8c48c292-512b-4572-a77e-be05fbaeeda3 - Stop 335e3a01-5006-40d0-8a65-5f84e642bf98"}],"currentEpoch":14,"fileBaselines":[["file:///home/ensismoebius/dotfiles/install.sh::request_fc2df01f-6007-4e7b-8920-1f29984ba1fd",{"uri":{"$mid":1,"fsPath":"/home/ensismoebius/dotfiles/install.sh","external":"file:///home/ensismoebius/dotfiles/install.sh","path":"/home/ensismoebius/dotfiles/install.sh","scheme":"file"},"requestId":"request_fc2df01f-6007-4e7b-8920-1f29984ba1fd","content":"#!/bin/bash\n\n# --- Dependency Installation ---\necho \"This script will install all necessary software for the Hyprland configuration.\"\necho \"The following packages will be installed:\"\necho \"\n--- Core Components ---\nhyprland: The Wayland compositor\nwaybar: Status bar\nwofi: Application launcher\nwofi: Used for emoji picker\nfoot: Terminal emulator\nnautilus: File manager\nwlogout: Logout menu\nswaylock: Screen locker\n\n--- System & Theming ---\nswww: Wallpaper daemon\nwaypaper: Wallpaper selector GUI\npolkit-kde-agent: PolicyKit authentication agent\nqt5ct qt6ct kvantum: For Qt theming\npapirus-icon-theme: Icon theme\nttf-jetbrains-mono noto-fonts ttf-font-awesome: Fonts\nhyprcursor: For cursor theming\ncatppuccin-cursors-mocha (AUR): Cursor theme\n\n--- Utilities ---\nfirefox: Web browser\nnetwork-manager-applet: Network manager GUI\nbluez-utils: For Bluetooth\nudiskie: Automounter for removable media\npipewire-pulse: For audio control (pactl)\npavucontrol: Volume control panel\nplayerctl: For media player control\ngrim slurp grimblast (AUR): Screenshot tools\nwl-clipboard: Clipboard utilities\njq: JSON processor for scripts\nzsh: The Z shell\nswaync (AUR): Notification center\nwaypaper (AUR): Wallpaper selector GUI\nxdg-utils: For opening files and URLs\ngit base-devel: For installing AUR packages\n\n\"\n# read -p \"Do you want to proceed with the installation? (y/N) \" choice\n# case \"$choice\" in\n#   y|Y ) echo \"Starting installation...\";;\n#   * ) echo \"Installation aborted.\" && exit 0;;\n# esac\n\n# Check if yay is installed, if not, install it\nif ! command -v yay &> /dev/null; then\n    echo \"yay could not be found, installing it now.\"\n    sudo pacman -S --needed --noconfirm git base-devel\n    git clone https://aur.archlinux.org/yay.git\n    (cd yay && makepkg -si --noconfirm)\n    rm -rf yay\nfi\n\n# Install all packages with yay\nyay -S --needed hyprland waybar wofi foot nautilus firefox swww polkit-kde-agent qt5ct qt6ct kvantum papirus-icon-theme ttf-jetbrains-mono noto-fonts ttf-font-awesome network-manager-applet bluez-utils udiskie pipewire-pulse pavucontrol grim slurp wl-clipboard jq zsh hyprcursor wlogout xdg-utils grimblast swaync waypaper catppuccin-cursors-mocha vim ccls swaylock playerctl stow gimp mako zenity cliphist inxi flatpak nautilus-python nautilus-open-any-terminal\n\n# Configure nautilus-open-any-terminal\necho \"Configuring nautilus-open-any-terminal to use 'foot'...\"\ngsettings set com.github.stunkymonkey.nautilus-open-any-terminal terminal foot\n\n# Function: ensure murrine engine is installed for GTK2 visual improvements\ninstall_murrine_if_missing() {\n    if pkg-config --exists murrine-gtk-theme 2>/dev/null || [ -f /usr/lib/gtk-2.0/2.10.0/engines/libmurrine.so ] || [ -f /usr/lib64/gtk-2.0/2.10.0/engines/libmurrine.so ]; then\n        echo \"Murrine engine already installed.\"\n        return 0\n    fi\n\n    echo \"Murrine GTK2 engine (gtk-engines-murrine) not found. Attempting to install...\"\n\n    # Detect package manager and try to install\n    if command -v pacman &>/dev/null; then\n        echo \"Detected pacman. Installing gtk-engine-murrine via pacman/yay...\"\n        # Try official first, then AUR via yay\n        sudo pacman -S --needed --noconfirm gtk-engine-murrine || yay -S --needed --noconfirm gtk-engine-murrine\n        return $?\n    elif command -v apt &>/dev/null; then\n        echo \"Detected apt. Installing libmurrine-gtk-theme (Debian/Ubuntu naming may vary)...\"\n        sudo apt update && sudo apt install -y gtk2-engines-murrine || sudo apt install -y libmurrine-gtk-theme || true\n        return $?\n    elif command -v dnf &>/dev/null; then\n        echo \"Detected dnf. Installing gtk-murrine engine...\"\n        sudo dnf install -y gtk-murrine-engine || true\n        return $?\n    else\n        echo \"Could not detect package manager. Please install the Murrine GTK2 engine manually.\"\n        echo \"Common package names: gtk-engines-murrine, gtk2-engines-murrine, libmurrine-gtk-theme\"\n        return 1\n    fi\n}\n\n# Try to install murrine now (non-fatal if it fails)\ninstall_murrine_if_missing || echo \"Continuing without Murrine engine. See README for manual install instructions.\"\n\n\necho \"\"\n\n# --- Oh My Zsh Installation ---\nOH_MY_ZSH_DIR=\"$HOME/.oh-my-zsh\"\nif [ ! -d \"$OH_MY_ZSH_DIR\" ]; then\n    echo \"Installing Oh My Zsh...\"\n    git clone https://github.com/ohmyzsh/ohmyzsh.git \"$OH_MY_ZSH_DIR\"\nelse\n    echo \"Oh My Zsh is already installed.\"\nfi\n\n# --- Powerlevel10k Theme Installation ---\nP10K_DIR=\"${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k\"\nif [ ! -d \"$P10K_DIR\" ]; then\n    echo \"Installing Powerlevel10k theme...\"\n    git clone --depth=1 https://github.com/romkatv/powerlevel10k.git \"$P10K_DIR\"\nelse\n    echo \"Powerlevel10k theme is already installed.\"\nfi\n\n# --- Zsh Plugins Installation ---\n# zsh-autosuggestions\nAS_DIR=\"${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\"\nif [ ! -d \"$AS_DIR\" ]; then\n    echo \"Installing zsh-autosuggestions plugin...\"\n    git clone https://github.com/zsh-users/zsh-autosuggestions \"$AS_DIR\"\nelse\n    echo \"zsh-autosuggestions plugin is already installed.\"\nfi\n\n# zsh-syntax-highlighting\nSH_DIR=\"${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\"\nif [ ! -d \"$SH_DIR\" ]; then\n    echo \"Installing zsh-syntax-highlighting plugin...\"\n    git clone https://github.com/zsh-users/zsh-syntax-highlighting \"$SH_DIR\"\nelse\n    echo \"zsh-syntax-highlighting plugin is already installed.\"\nfi\necho \"\"\n\n# --- Configuration Symlinking ---\necho \"Stowing configuration files into home directory...\"\n\n# Function to backup existing conflicting files\nbackup_conflicting_files() {\n    BACKUP_DIR=\"$HOME/dotfiles_backup_$(date +%Y%m%d%H%M%S)\"\n    mkdir -p \"$BACKUP_DIR\"\n    echo \"Backing up conflicting files to $BACKUP_DIR...\"\n\n    # List of common dotfiles/directories stow might target\n    CONFLICTING_TARGETS=(\n        \".config\"\n        \".local/share/icons\"\n        \".local/bin\"\n        \".bash_profile\"\n        \".bashrc\"\n        \".gtkrc-2.0\"\n        \".p10k.zsh\"\n        \".zshrc\"\n        \".vim\"\n        \".vimrc\"\n        \".Xresources\"\n        \".themes\"\n    )\n\n    for target in \"${CONFLICTING_TARGETS[@]}\"; do\n        FULL_PATH=\"$HOME/$target\"\n        if [ -e \"$FULL_PATH\" ] || [ -L \"$FULL_PATH\" ]; then # Check if it exists, including as a symlink\n            echo \"  Moving $FULL_PATH to $BACKUP_DIR/\"\n            mv \"$FULL_PATH\" \"$BACKUP_DIR/\"\n        fi\n    done\n    echo \"Backup complete.\"\n}\n\n# Call the backup function before stowing\nbackup_conflicting_files\n\n# The directory where this script is located, which is the root of our dotfiles repo\nCONFIG_DIR=$(cd \"$(dirname \"$0\")\" && pwd)\nSTOW_DIR=\"$CONFIG_DIR/stow\"\n\n# Remove the problematic empty .oh-my-zsh directory from the stow package\necho \"Removing problematic stow/shell/.oh-my-zsh directory...\"\nrm -rf \"$STOW_DIR/shell/.oh-my-zsh\"\n\n# Unstow any packages first to avoid conflicts\nfor pkg in $(ls \"$STOW_DIR\"); do\n    stow -D -v -d \"$STOW_DIR\" -t \"$HOME\" \"$pkg\"\ndone\n\n# Stow all packages.\necho \"Creating ~/Scripts directory if it doesn't exist...\"\nmkdir -p \"$HOME/Scripts\"\n\nfor pkg in $(ls \"$STOW_DIR\"); do\n    if [ \"$pkg\" == \"Scripts\" ]; then\n        echo \"Stowing Scripts to ~/Scripts...\"\n        stow --restow -v -d \"$STOW_DIR\" -t \"$HOME/Scripts\" \"$pkg\"\n    else\n        echo \"Stowing $pkg to ~...\"\n        stow --restow -v -d \"$STOW_DIR\" -t \"$HOME\" \"$pkg\"\n    fi\ndone\n\necho \"Stowing complete.\"\n\n# Update icon cache\nif [ -d \"$HOME/.local/share/icons/Cyberpunk-Neon\" ]; then\n    echo \"Updating icon cache...\"\n    gtk-update-icon-cache -f -t \"$HOME/.local/share/icons/Cyberpunk-Neon\"\nfi\n\n# Install vim-plug for plugin management\necho \"Installing vim-plug...\"\ncurl -fLo ~/.vim/autoload/plug.vim --create-dirs \\\n    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim\n\necho \"All dependencies installed successfully.\"\n\n# Update desktop database\nif [ -d \"$HOME/.local/share/applications\" ]; then\n    echo \"Updating desktop database...\"\n    update-desktop-database \"$HOME/.local/share/applications\"\nfi\n\n# Setting up nautilus-open-any-terminal to use foot terminal\necho \"Configuring nautilus-open-any-terminal to use 'foot' terminal...\"\nif ! gsettings list-schemas | grep -q com.github.stunkymonkey.nautilus-open-any-terminal; then\n    echo \"Schema com.github.stunkymonkey.nautilus-open-any-terminal not found. Installing nautilus-open-any-terminal...\"\n    sudo pacman -S --needed nautilus-open-any-terminal\nfi\n\ngsettings set com.github.stunkymonkey.nautilus-open-any-terminal terminal foot\n\n\necho \"Setup complete.\"\necho \"Done.\"\n","epoch":4,"telemetryInfo":{}}],["file:///home/ensismoebius/dotfiles/install.sh::request_6c4bd094-4655-4d8c-af88-46b2a631e846",{"uri":{"$mid":1,"fsPath":"/home/ensismoebius/dotfiles/install.sh","external":"file:///home/ensismoebius/dotfiles/install.sh","path":"/home/ensismoebius/dotfiles/install.sh","scheme":"file"},"requestId":"request_6c4bd094-4655-4d8c-af88-46b2a631e846","content":"#!/bin/bash\n\n# --- Dependency Installation ---\necho \"This script will install all necessary software for the Hyprland configuration.\"\necho \"The following packages will be installed:\"\necho \"\n--- Core Components ---\nhyprland: The Wayland compositor\nwaybar: Status bar\nwofi: Application launcher\nwofi: Used for emoji picker\nfoot: Terminal emulator\nnautilus: File manager\nwlogout: Logout menu\nswaylock: Screen locker\n\n--- System & Theming ---\nswww: Wallpaper daemon\nwaypaper: Wallpaper selector GUI\npolkit-kde-agent: PolicyKit authentication agent\nqt5ct qt6ct kvantum: For Qt theming\npapirus-icon-theme: Icon theme\nttf-jetbrains-mono noto-fonts ttf-font-awesome: Fonts\nhyprcursor: For cursor theming\ncatppuccin-cursors-mocha (AUR): Cursor theme\n\n--- Utilities ---\nfirefox: Web browser\nnetwork-manager-applet: Network manager GUI\nbluez-utils: For Bluetooth\nudiskie: Automounter for removable media\npipewire-pulse: For audio control (pactl)\npavucontrol: Volume control panel\nplayerctl: For media player control\ngrim slurp grimblast (AUR): Screenshot tools\nwl-clipboard: Clipboard utilities\njq: JSON processor for scripts\nzsh: The Z shell\nswaync (AUR): Notification center\nwaypaper (AUR): Wallpaper selector GUI\nxdg-utils: For opening files and URLs\ngit base-devel: For installing AUR packages\n\n\"\n# read -p \"Do you want to proceed with the installation? (y/N) \" choice\n# case \"$choice\" in\n#   y|Y ) echo \"Starting installation...\";;\n#   * ) echo \"Installation aborted.\" && exit 0;;\n# esac\n\n# Check if yay is installed, if not, install it\nif ! command -v yay &> /dev/null; then\n    echo \"yay could not be found, installing it now.\"\n    sudo pacman -S --needed --noconfirm git base-devel\n    git clone https://aur.archlinux.org/yay.git\n    (cd yay && makepkg -si --noconfirm)\n    rm -rf yay\nfi\n\n# Install all packages with yay\nyay -S --needed hyprland waybar wofi foot nautilus firefox swww polkit-kde-agent qt5ct qt6ct kvantum papirus-icon-theme ttf-jetbrains-mono noto-fonts ttf-font-awesome network-manager-applet bluez-utils udiskie pipewire-pulse pavucontrol grim slurp wl-clipboard jq zsh hyprcursor wlogout xdg-utils grimblast swaync waypaper catppuccin-cursors-mocha vim ccls swaylock playerctl stow gimp mako zenity cliphist inxi flatpak nautilus-python nautilus-open-any-terminal\n\n# Configure nautilus-open-any-terminal\necho \"Configuring nautilus-open-any-terminal to use 'foot'...\"\ngsettings set com.github.stunkymonkey.nautilus-open-any-terminal terminal foot\n\n# Function: ensure murrine engine is installed for GTK2 visual improvements\ninstall_murrine_if_missing() {\n    if pkg-config --exists murrine-gtk-theme 2>/dev/null || [ -f /usr/lib/gtk-2.0/2.10.0/engines/libmurrine.so ] || [ -f /usr/lib64/gtk-2.0/2.10.0/engines/libmurrine.so ]; then\n        echo \"Murrine engine already installed.\"\n        return 0\n    fi\n\n    echo \"Murrine GTK2 engine (gtk-engines-murrine) not found. Attempting to install...\"\n\n    # Detect package manager and try to install\n    if command -v pacman &>/dev/null; then\n        echo \"Detected pacman. Installing gtk-engine-murrine via pacman/yay...\"\n        # Try official first, then AUR via yay\n        sudo pacman -S --needed --noconfirm gtk-engine-murrine || yay -S --needed --noconfirm gtk-engine-murrine\n        return $?\n    elif command -v apt &>/dev/null; then\n        echo \"Detected apt. Installing libmurrine-gtk-theme (Debian/Ubuntu naming may vary)...\"\n        sudo apt update && sudo apt install -y gtk2-engines-murrine || sudo apt install -y libmurrine-gtk-theme || true\n        return $?\n    elif command -v dnf &>/dev/null; then\n        echo \"Detected dnf. Installing gtk-murrine engine...\"\n        sudo dnf install -y gtk-murrine-engine || true\n        return $?\n    else\n        echo \"Could not detect package manager. Please install the Murrine GTK2 engine manually.\"\n        echo \"Common package names: gtk-engines-murrine, gtk2-engines-murrine, libmurrine-gtk-theme\"\n        return 1\n    fi\n}\n\n# Try to install murrine now (non-fatal if it fails)\ninstall_murrine_if_missing || echo \"Continuing without Murrine engine. See README for manual install instructions.\"\n\n\necho \"\"\n\n# --- Oh My Zsh Installation ---\nOH_MY_ZSH_DIR=\"$HOME/.oh-my-zsh\"\nif [ ! -d \"$OH_MY_ZSH_DIR\" ]; then\n    echo \"Installing Oh My Zsh...\"\n    git clone https://github.com/ohmyzsh/ohmyzsh.git \"$OH_MY_ZSH_DIR\"\nelse\n    echo \"Oh My Zsh is already installed.\"\nfi\n\n# --- Powerlevel10k Theme Installation ---\nP10K_DIR=\"${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k\"\nif [ ! -d \"$P10K_DIR\" ]; then\n    echo \"Installing Powerlevel10k theme...\"\n    git clone --depth=1 https://github.com/romkatv/powerlevel10k.git \"$P10K_DIR\"\nelse\n    echo \"Powerlevel10k theme is already installed.\"\nfi\n\n# --- Zsh Plugins Installation ---\n# zsh-autosuggestions\nAS_DIR=\"${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\"\nif [ ! -d \"$AS_DIR\" ]; then\n    echo \"Installing zsh-autosuggestions plugin...\"\n    git clone https://github.com/zsh-users/zsh-autosuggestions \"$AS_DIR\"\nelse\n    echo \"zsh-autosuggestions plugin is already installed.\"\nfi\n\n# zsh-syntax-highlighting\nSH_DIR=\"${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\"\nif [ ! -d \"$SH_DIR\" ]; then\n    echo \"Installing zsh-syntax-highlighting plugin...\"\n    git clone https://github.com/zsh-users/zsh-syntax-highlighting \"$SH_DIR\"\nelse\n    echo \"zsh-syntax-highlighting plugin is already installed.\"\nfi\necho \"\"\n\n# --- Configuration Symlinking ---\necho \"Stowing configuration files into home directory...\"\n\n# Function to backup existing conflicting files\nbackup_conflicting_files() {\n    BACKUP_DIR=\"$HOME/dotfiles_backup_$(date +%Y%m%d%H%M%S)\"\n    mkdir -p \"$BACKUP_DIR\"\n    echo \"Backing up conflicting files to $BACKUP_DIR...\"\n\n    # List of common dotfiles/directories stow might target\n    CONFLICTING_TARGETS=(\n        \".config\"\n        \".local/share/icons\"\n        \".local/bin\"\n        \".bash_profile\"\n        \".bashrc\"\n        \".gtkrc-2.0\"\n        \".p10k.zsh\"\n        \".zshrc\"\n        \".vim\"\n        \".vimrc\"\n        \".Xresources\"\n        \".themes\"\n    )\n\n    for target in \"${CONFLICTING_TARGETS[@]}\"; do\n        FULL_PATH=\"$HOME/$target\"\n        if [ -e \"$FULL_PATH\" ] || [ -L \"$FULL_PATH\" ]; then # Check if it exists, including as a symlink\n            echo \"  Moving $FULL_PATH to $BACKUP_DIR/\"\n            mv \"$FULL_PATH\" \"$BACKUP_DIR/\"\n        fi\n    done\n    echo \"Backup complete.\"\n}\n\n# Call the backup function before stowing\nbackup_conflicting_files\n\n# The directory where this script is located, which is the root of our dotfiles repo\nCONFIG_DIR=$(cd \"$(dirname \"$0\")\" && pwd)\nSTOW_DIR=\"$CONFIG_DIR/stow\"\n\n# Remove the problematic empty .oh-my-zsh directory from the stow package\necho \"Removing problematic stow/shell/.oh-my-zsh directory...\"\nrm -rf \"$STOW_DIR/shell/.oh-my-zsh\"\n\n# Unstow any packages first to avoid conflicts\nfor pkg in $(ls \"$STOW_DIR\"); do\n    stow -D -v -d \"$STOW_DIR\" -t \"$HOME\" \"$pkg\"\ndone\n\n# Stow all packages.\necho \"Creating ~/Scripts directory if it doesn't exist...\"\nmkdir -p \"$HOME/Scripts\"\n\nfor pkg in $(ls \"$STOW_DIR\"); do\n    if [ \"$pkg\" == \"Scripts\" ]; then\n        echo \"Stowing Scripts to ~/Scripts...\"\n        stow --restow -v -d \"$STOW_DIR\" -t \"$HOME/Scripts\" \"$pkg\"\n    elif [ \"$pkg\" == \"firefox\" ]; then\n        echo \"Skipping firefox package (handled separately)...\"\n        continue\n    else\n        echo \"Stowing $pkg to ~...\"\n        stow --restow -v -d \"$STOW_DIR\" -t \"$HOME\" \"$pkg\"\n    fi\ndone\n\necho \"Stowing complete.\"\n\n# Install Firefox userChrome\necho \"Installing Firefox userChrome...\"\nif [ -f \"$STOW_DIR/firefox/install_user_chrome.sh\" ]; then\n    bash \"$STOW_DIR/firefox/install_user_chrome.sh\"\nelse\n    echo \"Firefox installer script not found.\"\nfi\n\n# Update icon cache\nif [ -d \"$HOME/.local/share/icons/Cyberpunk-Neon\" ]; then\n    echo \"Updating icon cache...\"\n    gtk-update-icon-cache -f -t \"$HOME/.local/share/icons/Cyberpunk-Neon\"\nfi\n\n# Install vim-plug for plugin management\necho \"Installing vim-plug...\"\ncurl -fLo ~/.vim/autoload/plug.vim --create-dirs \\\n    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim\n\necho \"All dependencies installed successfully.\"\n\n# Update desktop database\nif [ -d \"$HOME/.local/share/applications\" ]; then\n    echo \"Updating desktop database...\"\n    update-desktop-database \"$HOME/.local/share/applications\"\nfi\n\n# Setting up nautilus-open-any-terminal to use foot terminal\necho \"Configuring nautilus-open-any-terminal to use 'foot' terminal...\"\nif ! gsettings list-schemas | grep -q com.github.stunkymonkey.nautilus-open-any-terminal; then\n    echo \"Schema com.github.stunkymonkey.nautilus-open-any-terminal not found. Installing nautilus-open-any-terminal...\"\n    sudo pacman -S --needed nautilus-open-any-terminal\nfi\n\ngsettings set com.github.stunkymonkey.nautilus-open-any-terminal terminal foot\n\n\necho \"Setup complete.\"\necho \"Done.\"\n","epoch":8,"telemetryInfo":{}}],["file:///home/ensismoebius/dotfiles/install.sh::request_8c48c292-512b-4572-a77e-be05fbaeeda3",{"uri":{"$mid":1,"fsPath":"/home/ensismoebius/dotfiles/install.sh","external":"file:///home/ensismoebius/dotfiles/install.sh","path":"/home/ensismoebius/dotfiles/install.sh","scheme":"file"},"requestId":"request_8c48c292-512b-4572-a77e-be05fbaeeda3","content":"#!/bin/bash\n\n# --- Dependency Installation ---\necho \"This script will install all necessary software for the Hyprland configuration.\"\necho \"The following packages will be installed:\"\necho \"\n--- Core Components ---\nhyprland: The Wayland compositor\nwaybar: Status bar\nwofi: Application launcher\nwofi: Used for emoji picker\nfoot: Terminal emulator\nnautilus: File manager\nwlogout: Logout menu\nswaylock: Screen locker\n\n--- System & Theming ---\nswww: Wallpaper daemon\nwaypaper: Wallpaper selector GUI\npolkit-kde-agent: PolicyKit authentication agent\nqt5ct qt6ct kvantum: For Qt theming\npapirus-icon-theme: Icon theme\nttf-jetbrains-mono noto-fonts ttf-font-awesome: Fonts\nhyprcursor: For cursor theming\ncatppuccin-cursors-mocha (AUR): Cursor theme\n\n--- Utilities ---\nfirefox: Web browser\nnetwork-manager-applet: Network manager GUI\nbluez-utils: For Bluetooth\nudiskie: Automounter for removable media\npipewire-pulse: For audio control (pactl)\npavucontrol: Volume control panel\nplayerctl: For media player control\ngrim slurp grimblast (AUR): Screenshot tools\nwl-clipboard: Clipboard utilities\njq: JSON processor for scripts\nzsh: The Z shell\nswaync (AUR): Notification center\nwaypaper (AUR): Wallpaper selector GUI\nxdg-utils: For opening files and URLs\ngit base-devel: For installing AUR packages\n\n\"\n# read -p \"Do you want to proceed with the installation? (y/N) \" choice\n# case \"$choice\" in\n#   y|Y ) echo \"Starting installation...\";;\n#   * ) echo \"Installation aborted.\" && exit 0;;\n# esac\n\n# Check if yay is installed, if not, install it\nif ! command -v yay &> /dev/null; then\n    echo \"yay could not be found, installing it now.\"\n    sudo pacman -S --needed --noconfirm git base-devel\n    git clone https://aur.archlinux.org/yay.git\n    (cd yay && makepkg -si --noconfirm)\n    rm -rf yay\nfi\n\n# Install all packages with yay\nyay -S --needed hyprland waybar wofi foot nautilus firefox swww polkit-kde-agent qt5ct qt6ct kvantum papirus-icon-theme ttf-jetbrains-mono noto-fonts ttf-font-awesome network-manager-applet bluez-utils udiskie pipewire-pulse pavucontrol grim slurp wl-clipboard jq zsh hyprcursor wlogout xdg-utils grimblast swaync waypaper catppuccin-cursors-mocha vim ccls swaylock playerctl stow gimp mako zenity cliphist inxi flatpak nautilus-python nautilus-open-any-terminal\n\n# Configure nautilus-open-any-terminal\necho \"Configuring nautilus-open-any-terminal to use 'foot'...\"\ngsettings set com.github.stunkymonkey.nautilus-open-any-terminal terminal foot\n\n# Function: ensure murrine engine is installed for GTK2 visual improvements\ninstall_murrine_if_missing() {\n    if pkg-config --exists murrine-gtk-theme 2>/dev/null || [ -f /usr/lib/gtk-2.0/2.10.0/engines/libmurrine.so ] || [ -f /usr/lib64/gtk-2.0/2.10.0/engines/libmurrine.so ]; then\n        echo \"Murrine engine already installed.\"\n        return 0\n    fi\n\n    echo \"Murrine GTK2 engine (gtk-engines-murrine) not found. Attempting to install...\"\n\n    # Detect package manager and try to install\n    if command -v pacman &>/dev/null; then\n        echo \"Detected pacman. Installing gtk-engine-murrine via pacman/yay...\"\n        # Try official first, then AUR via yay\n        sudo pacman -S --needed --noconfirm gtk-engine-murrine || yay -S --needed --noconfirm gtk-engine-murrine\n        return $?\n    elif command -v apt &>/dev/null; then\n        echo \"Detected apt. Installing libmurrine-gtk-theme (Debian/Ubuntu naming may vary)...\"\n        sudo apt update && sudo apt install -y gtk2-engines-murrine || sudo apt install -y libmurrine-gtk-theme || true\n        return $?\n    elif command -v dnf &>/dev/null; then\n        echo \"Detected dnf. Installing gtk-murrine engine...\"\n        sudo dnf install -y gtk-murrine-engine || true\n        return $?\n    else\n        echo \"Could not detect package manager. Please install the Murrine GTK2 engine manually.\"\n        echo \"Common package names: gtk-engines-murrine, gtk2-engines-murrine, libmurrine-gtk-theme\"\n        return 1\n    fi\n}\n\n# Try to install murrine now (non-fatal if it fails)\ninstall_murrine_if_missing || echo \"Continuing without Murrine engine. See README for manual install instructions.\"\n\n\necho \"\"\n\n# --- Oh My Zsh Installation ---\nOH_MY_ZSH_DIR=\"$HOME/.oh-my-zsh\"\nif [ ! -d \"$OH_MY_ZSH_DIR\" ]; then\n    echo \"Installing Oh My Zsh...\"\n    git clone https://github.com/ohmyzsh/ohmyzsh.git \"$OH_MY_ZSH_DIR\"\nelse\n    echo \"Oh My Zsh is already installed.\"\nfi\n\n# --- Powerlevel10k Theme Installation ---\nP10K_DIR=\"${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k\"\nif [ ! -d \"$P10K_DIR\" ]; then\n    echo \"Installing Powerlevel10k theme...\"\n    git clone --depth=1 https://github.com/romkatv/powerlevel10k.git \"$P10K_DIR\"\nelse\n    echo \"Powerlevel10k theme is already installed.\"\nfi\n\n# --- Zsh Plugins Installation ---\n# zsh-autosuggestions\nAS_DIR=\"${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\"\nif [ ! -d \"$AS_DIR\" ]; then\n    echo \"Installing zsh-autosuggestions plugin...\"\n    git clone https://github.com/zsh-users/zsh-autosuggestions \"$AS_DIR\"\nelse\n    echo \"zsh-autosuggestions plugin is already installed.\"\nfi\n\n# zsh-syntax-highlighting\nSH_DIR=\"${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\"\nif [ ! -d \"$SH_DIR\" ]; then\n    echo \"Installing zsh-syntax-highlighting plugin...\"\n    git clone https://github.com/zsh-users/zsh-syntax-highlighting \"$SH_DIR\"\nelse\n    echo \"zsh-syntax-highlighting plugin is already installed.\"\nfi\necho \"\"\n\n# --- Configuration Symlinking ---\necho \"Stowing configuration files into home directory...\"\n\n# Function to backup existing conflicting files\nbackup_conflicting_files() {\n    BACKUP_DIR=\"$HOME/dotfiles_backup_$(date +%Y%m%d%H%M%S)\"\n    mkdir -p \"$BACKUP_DIR\"\n    echo \"Backing up conflicting files to $BACKUP_DIR...\"\n\n    # List of common dotfiles/directories stow might target\n    CONFLICTING_TARGETS=(\n        \".config\"\n        \".local/share/icons\"\n        \".local/bin\"\n        \".bash_profile\"\n        \".bashrc\"\n        \".gtkrc-2.0\"\n        \".p10k.zsh\"\n        \".zshrc\"\n        \".vim\"\n        \".vimrc\"\n        \".Xresources\"\n        \".themes\"\n    )\n\n    for target in \"${CONFLICTING_TARGETS[@]}\"; do\n        FULL_PATH=\"$HOME/$target\"\n        if [ -e \"$FULL_PATH\" ] || [ -L \"$FULL_PATH\" ]; then # Check if it exists, including as a symlink\n            echo \"  Moving $FULL_PATH to $BACKUP_DIR/\"\n            mv \"$FULL_PATH\" \"$BACKUP_DIR/\"\n        fi\n    done\n    echo \"Backup complete.\"\n}\n\n# Call the backup function before stowing\nbackup_conflicting_files\n\n# The directory where this script is located, which is the root of our dotfiles repo\nCONFIG_DIR=$(cd \"$(dirname \"$0\")\" && pwd)\nSTOW_DIR=\"$CONFIG_DIR/stow\"\n\n# Remove the problematic empty .oh-my-zsh directory from the stow package\necho \"Removing problematic stow/shell/.oh-my-zsh directory...\"\nrm -rf \"$STOW_DIR/shell/.oh-my-zsh\"\n\n# Unstow any packages first to avoid conflicts\nfor pkg in $(ls \"$STOW_DIR\"); do\n    stow -D -v -d \"$STOW_DIR\" -t \"$HOME\" \"$pkg\"\ndone\n\n# Stow all packages.\necho \"Creating ~/Scripts and ~/Audio directories if they don't exist...\"\nmkdir -p \"$HOME/Scripts\"\nmkdir -p \"$HOME/Audio\"\n\nfor pkg in $(ls \"$STOW_DIR\"); do\n    if [ \"$pkg\" == \"Scripts\" ]; then\n        echo \"Stowing Scripts to ~/Scripts...\"\n        stow --restow -v -d \"$STOW_DIR\" -t \"$HOME/Scripts\" \"$pkg\"\n    elif [ \"$pkg\" == \"Audios\" ]; then\n        echo \"Stowing Audios to ~/Audio...\"\n        stow --restow -v -d \"$STOW_DIR\" -t \"$HOME/Audio\" \"$pkg\"\n    elif [ \"$pkg\" == \"firefox\" ]; then\n        echo \"Skipping firefox package (handled separately)...\"\n        continue\n    else\n        echo \"Stowing $pkg to ~...\"\n        stow --restow -v -d \"$STOW_DIR\" -t \"$HOME\" \"$pkg\"\n    fi\ndone\n\necho \"Stowing complete.\"\n\n# Install Firefox userChrome\necho \"Installing Firefox userChrome...\"\nif [ -f \"$STOW_DIR/firefox/install_user_chrome.sh\" ]; then\n    bash \"$STOW_DIR/firefox/install_user_chrome.sh\"\nelse\n    echo \"Firefox installer script not found.\"\nfi\n\n# Update icon cache\nif [ -d \"$HOME/.local/share/icons/Cyberpunk-Neon\" ]; then\n    echo \"Updating icon cache...\"\n    gtk-update-icon-cache -f -t \"$HOME/.local/share/icons/Cyberpunk-Neon\"\nfi\n\n# Install vim-plug for plugin management\necho \"Installing vim-plug...\"\ncurl -fLo ~/.vim/autoload/plug.vim --create-dirs \\\n    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim\n\necho \"All dependencies installed successfully.\"\n\n# Update desktop database\nif [ -d \"$HOME/.local/share/applications\" ]; then\n    echo \"Updating desktop database...\"\n    update-desktop-database \"$HOME/.local/share/applications\"\nfi\n\n# Setting up nautilus-open-any-terminal to use foot terminal\necho \"Configuring nautilus-open-any-terminal to use 'foot' terminal...\"\nif ! gsettings list-schemas | grep -q com.github.stunkymonkey.nautilus-open-any-terminal; then\n    echo \"Schema com.github.stunkymonkey.nautilus-open-any-terminal not found. Installing nautilus-open-any-terminal...\"\n    sudo pacman -S --needed nautilus-open-any-terminal\nfi\n\ngsettings set com.github.stunkymonkey.nautilus-open-any-terminal terminal foot\n\n\necho \"Setup complete.\"\necho \"Done.\"\n","epoch":12,"telemetryInfo":{}}]],"operations":[{"type":"textEdit","uri":{"$mid":1,"fsPath":"/home/ensismoebius/dotfiles/install.sh","external":"file:///home/ensismoebius/dotfiles/install.sh","path":"/home/ensismoebius/dotfiles/install.sh","scheme":"file"},"requestId":"request_fc2df01f-6007-4e7b-8920-1f29984ba1fd","epoch":5,"edits":[{"text":"if [ \"$pkg\" == \"firefox\" ]; then\n        echo \"Skipping firefox package (handled separately)...\"\n        continue\n    else\n        echo \"Stowing $pkg to ~...\"\n        stow --restow -v -d \"$STOW_DIR\" -t \"$HOME\" \"$pkg\"\n    fi\ndone\n\necho \"Stowing complete.\"\n\n# Install Firefox userChrome\necho \"Installing Firefox userChrome...\"\nif [ -f \"$STOW_DIR/firefox/install_user_chrome.sh\" ]; then\n    bash \"$STOW_DIR/firefox/install_user_chrome.sh\"\nelse\n    echo \"Firefox installer script not found.\"\nfi","range":{"startLineNumber":200,"startColumn":7,"endLineNumber":206,"endColumn":25}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/home/ensismoebius/dotfiles/install.sh","external":"file:///home/ensismoebius/dotfiles/install.sh","path":"/home/ensismoebius/dotfiles/install.sh","scheme":"file"},"requestId":"request_6c4bd094-4655-4d8c-af88-46b2a631e846","epoch":9,"edits":[{"text":"and ~/Audio directories if they don't exist...\"\nmkdir -p \"$HOME/Scripts\"\nmkdir -p \"$HOME/Audio\"\n\nfor pkg in $(ls \"$STOW_DIR\"); do\n    if [ \"$pkg\" == \"Scripts\" ]; then\n        echo \"Stowing Scripts to ~/Scripts...\"\n        stow --restow -v -d \"$STOW_DIR\" -t \"$HOME/Scripts\" \"$pkg\"\n    elif [ \"$pkg\" == \"Audios\" ]; then\n        echo \"Stowing Audios to ~/Audio...\"\n        stow --restow -v -d \"$STOW_DIR\" -t \"$HOME/Audio","range":{"startLineNumber":193,"startColumn":26,"endLineNumber":199,"endColumn":58}}]},{"type":"textEdit","uri":{"$mid":1,"fsPath":"/home/ensismoebius/dotfiles/install.sh","external":"file:///home/ensismoebius/dotfiles/install.sh","path":"/home/ensismoebius/dotfiles/install.sh","scheme":"file"},"requestId":"request_8c48c292-512b-4572-a77e-be05fbaeeda3","epoch":13,"edits":[{"text":"Set proper permissions for config files and directories\necho \"Setting proper permissions for config files and directories...\"\n# For .config\nif [ -d \"$HOME/.config\" ]; then\n    find \"$HOME/.config\" -type f -exec chmod 644 {} \\; 2>/dev/null || true\n    find \"$HOME/.config\" -type d -exec chmod 755 {} \\; 2>/dev/null || true\nfi\n# For .local\nif [ -d \"$HOME/.local\" ]; then\n    find \"$HOME/.local\" -type f -exec chmod 644 {} \\; 2>/dev/null || true\n    find \"$HOME/.local\" -type d -exec chmod 755 {} \\; 2>/dev/null || true\nfi\n# For other common dotfiles\nchmod 644 \"$HOME/.bashrc\" \"$HOME/.zshrc\" \"$HOME/.vimrc\" 2>/dev/null || true\nchmod 755 \"$HOME/.vim\" 2>/dev/null || true\n# For Scripts and Audio\nif [ -d \"$HOME/Scripts\" ]; then\n    find \"$HOME/Scripts\" -type f -exec chmod 755 {} \\; 2>/dev/null || true\n    find \"$HOME/Scripts\" -type d -exec chmod 755 {} \\; 2>/dev/null || true\nfi\nif [ -d \"$HOME/Audio\" ]; then\n    find \"$HOME/Audio\" -type f -exec chmod 644 {} \\; 2>/dev/null || true\n    find \"$HOME/Audio\" -type d -exec chmod 755 {} \\; 2>/dev/null || true\nfi\n\necho \"Permissions set.\"","range":{"startLineNumber":215,"startColumn":3,"endLineNumber":215,"endColumn":29}}]}],"epochCounter":14},"recentSnapshot":{"entries":[{"resource":"file:///home/ensismoebius/dotfiles/install.sh","languageId":"shellscript","originalHash":"931cc0c","currentHash":"931cc0c","state":1,"snapshotUri":"chat-editing-snapshot-text-model:/home/ensismoebius/dotfiles/install.sh?%7B%22session%22%3A%7B%22%24mid%22%3A1%2C%22external%22%3A%22vscode-chat-session%3A%2F%2Flocal%2FYTE4NzE1ZTItNjQ3NC00NzgxLWFjOWYtMzk1MzRhMjJiNGMx%22%2C%22path%22%3A%22%2FYTE4NzE1ZTItNjQ3NC00NzgxLWFjOWYtMzk1MzRhMjJiNGMx%22%2C%22scheme%22%3A%22vscode-chat-session%22%2C%22authority%22%3A%22local%22%7D%2C%22requestId%22%3A%22%22%2C%22undoStop%22%3A%22%22%7D","telemetryInfo":{"requestId":"request_8c48c292-512b-4572-a77e-be05fbaeeda3","agentId":"github.copilot.editsAgent","modelId":"copilot/auto","modeId":"agent"}}]}}