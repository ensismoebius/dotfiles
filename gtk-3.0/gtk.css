/* ~/.config/gtk-3.0/gtk.css
   Tema: neon verde / fundo escuro — GTK3
   Fixed version with proper text selection highlighting
*/

/* Force dark theme variant */
@import url("resource:///org/gtk/libgtk/theme/Adwaita/gtk-dark.css");

* {
    -gtk-application-prefer-dark-theme: 1;
}

/* ---------- cores ---------- */
@define-color bg_color rgba(13, 2, 8, 0.95);
@define-color fg_color #00FF41;
@define-color selected_bg_color #008F11;
@define-color selected_fg_color #00FF41;
@define-color text_color #00FF41;
@define-color base_color rgba(13, 2, 8, 0.95);
@define-color borders_color #00FF41;
@define-color unfocused_borders_color rgba(0, 255, 65, 0.3);
@define-color warning_color #FFFF00;
@define-color error_color #FF0000;
@define-color success_color #00FF41;

@keyframes glow {
    0% {
        box-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 15px #008F11;
    }

    100% {
        box-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 30px #008F11;
    }
}

* {
    border-radius: 2px;
    transition: all 0.3s ease;
}

.background {
    background-color: @bg_color;
    color: @fg_color;
}

window {
    background-image: repeating-linear-gradient(0deg,
            rgba(0, 255, 65, 0.03) 0px,
            rgba(0, 255, 65, 0.03) 1px,
            transparent 1px,
            transparent 2px);
}

    * {
        -gtk-application-prefer-dark-theme: 1;
    }

    /* ---------- cores ---------- */
    @define-color bg_color rgba(13, 2, 8, 0.95);
    @define-color fg_color #00FF41;
    @define-color selected_bg_color #008F11;
    @define-color selected_fg_color #00FF41;
    @define-color text_color #00FF41;
    @define-color base_color rgba(13, 2, 8, 0.95);
    @define-color borders_color #00FF41;
    @define-color unfocused_borders_color rgba(0, 255, 65, 0.3);
    @define-color warning_color #FFFF00;
    @define-color error_color #FF0000;
    @define-color success_color #00FF41;

    @keyframes glow {
        0% {
            box-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 15px #008F11;
        }

        100% {
            box-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 30px #008F11;
        }
    }

    * {
        border-radius: 2px;
        transition: all 0.3s ease;
    }

    .background {
        background-color: @bg_color;
        color: @fg_color;
        border-bottom: 1px solid rgba(0, 255, 65, 0.06);
        padding: 6px;
    }

    window {
        background-image: repeating-linear-gradient(0deg,
                rgba(0, 255, 65, 0.03) 0px,
                rgba(0, 255, 65, 0.03) 1px,
                transparent 1px,
                transparent 2px);
    }

    button {
        background-color: @bg_color;
        color: @fg_color;
        border: 1px solid @borders_color;
        padding: 5px 10px;
    }

    button:hover {
        background-color: alpha(@selected_bg_color, 0.3);
        box-shadow: 0 0 5px #00FF41;
    }

    button:active {
        background-color: @selected_bg_color;
        color: @selected_fg_color;
        box-shadow: 0 0 10px rgba(0, 255, 65, 0.85);
    }

    entry {
        background-color: alpha(@bg_color, 0.8);
        color: @fg_color;
        border: 1px solid @borders_color;
        padding: 5px;
        box-shadow: inset 0 0 5px #00FF41;
    }

    entry:focus {
        border-color: @selected_bg_color;
        box-shadow: 0 0 10px #00FF41;
    }

    /* Text selection and glowing highlight */
    textview text,
    textview {
        selection-background-color: @selected_bg_color;
        selection-color: @selected_fg_color;
    }

    /* Entry (single-line) selection — covers inline rename and address bar */
    entry selection,
    entry:selected,
    GtkEntry selection,
    GtkEntry:selected,
    entry text:selected {
        background-color: @selected_bg_color;
        color: @selected_fg_color;
        box-shadow: 0 0 12px rgba(0, 255, 65, 0.85);
        border-radius: 3px;
    }


    textview text:selected,
    textview:selected,
    textview selection {
        background-color: @selected_bg_color;
        color: @selected_fg_color;
        box-shadow: 0 0 12px rgba(0, 255, 65, 0.85);
        border-radius: 4px;
    }

    /* ---------- File manager: tree/icon/flow selections (files/folders) ---------- */
    /* Targets common GTK widgets used by file managers to highlight selected items */
    treeview row:selected,
    GtkTreeView row:selected,
    treeview:selected,
    GtkTreeView:selected,
    iconview item:selected,
    GtkIconView:selected,
    flowbox child:selected,
    GtkFlowBox:selected,
    .view row:selected,
    .view:selected {
        background-color: @selected_bg_color;
        color: @selected_fg_color;
        box-shadow: 0 0 18px rgba(0, 255, 65, 0.9);
        border-radius: 6px;
        transition: box-shadow 0.25s ease;
    }

    /* Slightly stronger outline for focused selections */
    treeview row:selected:focus,
    GtkTreeView row:selected:focus,
    iconview item:selected:focus,
    GtkIconView:selected:focus {
        box-shadow: 0 0 22px rgba(0, 255, 65, 0.95);
        border: 1px solid rgba(0, 255, 65, 0.25);
    }

    /* ---------- menubar / menu / menuitem (GTK3) ---------- */
    menubar,
    .menubar {
        background-color: @bg_color;
        border-bottom: 1px solid @borders_color;
        box-shadow: 0 0 10px #00FF41;
    }

    menuitem {
        color: @fg_color;
        padding: 5px 10px;
    }

    menuitem:hover {
        background-color: alpha(@selected_bg_color, 0.3);
        box-shadow: 0 0 5px #00FF41;
    }

    notebook {
        border: 1px solid @borders_color;
    }

    notebook tab {
        background-color: @bg_color;
        color: @fg_color;
        padding: 5px 15px;
    }

    notebook tab:checked {
        background-color: alpha(@selected_bg_color, 0.3);
        border-bottom: 2px solid @borders_color;
        box-shadow: 0 0 5px #00FF41;
    }

    /* ---------- frame / expander / separator ---------- */
    frame,
    GtkFrame,
    expander,
    GtkExpander {
        background-color: rgba(13, 2, 8, 0.88);
        color: @fg_color;
        border: 1px solid rgba(0, 255, 65, 0.04);
    }

    separator,
    GtkSeparator {
        background-color: rgba(0, 255, 65, 0.04);
        color: rgba(0, 255, 65, 0.04);
    }

    /* ---------- dialogs / infobar / statusbar ---------- */
    dialog,
    GtkDialog,
    messagedialog,
    GtkMessageDialog,
    #example_dialog,
    #example_dialog_fallback {
        background-color: @bg_color;
        color: @fg_color;
        border: 1px solid rgba(0, 255, 65, 0.06);
        padding: 8px;
    }

    infobar,
    GtkInfoBar,
    #sample_infobar {
        background-color: rgba(13, 2, 8, 0.88);
        color: @fg_color;
    }

    /* ---------- tooltip ---------- */
    tooltip,
    GtkTooltip,
    .tooltip {
        background-color: rgba(0, 0, 0, 0.85);
        color: @fg_color;
        border: 1px solid rgba(0, 255, 65, 0.08);
        padding: 4px 6px;
    }

    /* ---------- states: insensitive / unfocused / warnings ---------- */
    :insensitive,
    .insensitive {
        opacity: 0.55;
        border-color: @unfocused_borders_color;
    }

    .warning {
        background-color: rgba(255, 255, 0, 0.06);
        color: @warning_color;
        border: 1px solid rgba(255, 255, 0, 0.18);
    }

    .error {
        background-color: rgba(255, 0, 0, 0.06);
        color: @error_color;
        border: 1px solid rgba(255, 0, 0, 0.18);
    }

    .success {
        background-color: rgba(0, 255, 65, 0.06);
        color: @success_color;
        border: 1px solid rgba(0, 255, 65, 0.18);
    }

    /* ---------- IDs detectados no dump (prioridade alta) ---------- */
    #main_window {
        background-color: @bg_color;
        color: @fg_color;
    }

    #main_scroller {}

    #root_box {}

    #row1 {}

    #sample_label {}

    #sample_entry {}

    #sample_textview {}

    #row2 {}

    #btn_plain {}

    #btn_suggested {}

    #btn_toggle {}

    #menu_button_example {}

    #mi_a {}

    #mi_b {}

    #row4 {}

    #sample_switch {}

    #sample_check {}

    #rb1 {}

    #rb2 {}

    #row5 {}

    #sample_combobox {}

    #sample_scale {}

    #sample_progress {}

    #sample_listbox {}

    #btn_open_dialog {}

    #sample_searchentry {}

    #info_label {}

    #btn_dump_json {
        border: 1px solid @borders_color;
    }

    /* ---------- fallback generic para nodes/classes desconhecidas ---------- */
    .frame,
    .view,
    .box,
    .grid,
    .background,
    .popup,
    .menu,
    .view {
        color: @fg_color;
    }

    /* ---------- final ---------- */
    /* usar GTK Inspector (GTK_DEBUG=interactive) p/ ajustes finos */
